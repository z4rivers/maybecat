---
phase: 03-gradients-visual-effects
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - "scripts/figma-tokens/gradients.json"
  - "scripts/figma-tokens/effects.json"
  - "scripts/figma-tokens/manifest.json"
autonomous: true

must_haves:
  truths:
    - "gradients.json contains all 12 linear gradient tokens with correct CSS syntax and primitive token references"
    - "effects.json contains all 15 box-shadow tokens, 8 text shadow tokens, and 1 utility shadow token (24 total)"
    - "manifest.json registers the two new token files as collections for Tokens Studio import"
    - "Gradient tokens reference Phase 1 primitive names exactly (e.g. {pink.500}, {amber.400}, {card-pink.gradient-start})"
    - "Multi-layer shadow tokens use arrays with correct layer ordering matching CSS source"
  artifacts:
    - path: "scripts/figma-tokens/gradients.json"
      provides: "12 linear gradient tokens covering GRAD-01, GRAD-02, GRAD-03 requirements"
    - path: "scripts/figma-tokens/effects.json"
      provides: "24 shadow effect tokens covering EFFECT-01, EFFECT-02 requirements"
    - path: "scripts/figma-tokens/manifest.json"
      provides: "Updated collection registry including gradients and effects"
  key_links:
    - from: "scripts/figma-tokens/gradients.json"
      to: "scripts/figma-tokens/primitives.json"
      via: "Token references in gradient stop values"
      pattern: "\\{(pink|amber|orange|emerald|violet|card-)"
    - from: "scripts/figma-tokens/manifest.json"
      to: "scripts/figma-tokens/gradients.json"
      via: "Collection file reference"
      pattern: "gradients\\.json"
    - from: "scripts/figma-tokens/manifest.json"
      to: "scripts/figma-tokens/effects.json"
      via: "Collection file reference"
      pattern: "effects\\.json"
---

<objective>
Create the Tokens Studio JSON files for all gradient fill tokens and shadow effect tokens extracted from the MaybeCat codebase. These files will be imported by the user into Figma via Tokens Studio, producing Fill Styles (gradients) and Effect Styles (shadows).

Purpose: Captures every gradient and shadow definition from the live site as versionable, importable token files -- the same workflow established in Phase 1 for color variables.

Output: Two new JSON files (`gradients.json`, `effects.json`) in `scripts/figma-tokens/` plus an updated `manifest.json`.
</objective>

<execution_context>
@C:\Users\Zachary Turner\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Zachary Turner\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-gradients-visual-effects/03-RESEARCH.md
@scripts/figma-tokens/primitives.json
@scripts/figma-tokens/manifest.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create gradients.json and effects.json token files</name>
  <files>scripts/figma-tokens/gradients.json, scripts/figma-tokens/effects.json</files>
  <action>
Create two new JSON files in `scripts/figma-tokens/` using the W3C DTCG format (`$type`, `$value`, `$description`) that matches the existing token files in the project.

**File 1: `scripts/figma-tokens/gradients.json`**

Contains 12 linear gradient tokens nested under a `gradient` group. Each token uses `$type: "color"` with a `linear-gradient(...)` CSS value. Gradient stops reference Phase 1 primitive token names using `{group.key}` syntax.

The 12 gradients are:
- `gradient/page-background` -- GRAD-01: `linear-gradient(135deg, {pink.500} 0%, {pink.400} 20%, {amber.400} 50%, {amber.500} 80%, {amber.600} 100%)`
- `gradient/card-oracle` -- GRAD-02: `linear-gradient(145deg, {amber.100} 0%, {amber.200} 50%, {amber.300} 100%)`
- `gradient/card-upload` -- GRAD-02: `linear-gradient(145deg, {amber.100} 0%, {amber.400} 50%, {amber.700} 100%)`
- `gradient/card-pink` -- GRAD-02: `linear-gradient(145deg, {card-pink.gradient-start} 0%, {card-pink.gradient-mid} 50%, {card-pink.gradient-end} 100%)`
- `gradient/card-green` -- GRAD-02: `linear-gradient(145deg, {card-green.gradient-start} 0%, {card-green.gradient-mid} 50%, {card-green.gradient-end} 100%)`
- `gradient/card-purple` -- GRAD-02: `linear-gradient(145deg, {card-purple.gradient-start} 0%, {card-purple.gradient-mid} 50%, {card-purple.gradient-end} 100%)`
- `gradient/card-hotpink` -- GRAD-02: `linear-gradient(145deg, {card-hotpink.gradient-start} 0%, {card-hotpink.gradient-mid} 50%, {card-hotpink.gradient-end} 100%)`
- `gradient/card-orange` -- GRAD-02: `linear-gradient(145deg, {card-orange.gradient-start} 0%, {card-orange.gradient-mid} 50%, {card-orange.gradient-end} 100%)`
- `gradient/button-submit` -- GRAD-03: `linear-gradient(135deg, {orange.900} 0%, {orange.800} 50%, {orange.700} 100%)`
- `gradient/button-nav` -- GRAD-03: `linear-gradient(145deg, {amber.100} 0%, {amber.400} 100%)`
- `gradient/button-celestial` -- GRAD-03: `linear-gradient(180deg, {amber.900} 0%, {amber.950} 100%)`
- `gradient/divider-line` -- decorative: `linear-gradient(90deg, transparent 0%, {amber.100} 50%, transparent 100%)`

Use the EXACT JSON from the research document's "Tokens Studio JSON for Gradients" section. Copy it verbatim -- the research has already validated the format, token references, and descriptions.

**File 2: `scripts/figma-tokens/effects.json`**

Contains 24 shadow tokens nested under a `shadow` group. Each token uses `$type: "boxShadow"` with either a single shadow object or an array of objects for multi-layer shadows.

The tokens break down as:
- EFFECT-01 (15 box-shadow tokens): card-upload, card-upload-inner, card-shelter, card-shelter-inner, card-photo-frame, card-name-banner, card-oracle, card-oracle-photo, card-refresh, button-submit, button-nav, button-celestial, badge-adopt, input-inset, modal-card
- EFFECT-02 (8 text shadow tokens): text-logo-full, text-logo-simple, text-outline-dark, text-gold-highlight, text-warm-subtle, text-button-dark, text-button-heavy, text-badge
- Utility (1 token): utility-shadow-lg (Tailwind shadow-lg equivalent)

Use the EXACT JSON from the research document's "Tokens Studio JSON for Box Shadows" section. Copy it verbatim -- the research has already validated all values against the live codebase, confirmed property names match Tokens Studio spec, and verified multi-layer shadow ordering.

**Critical details:**
- Shadow values are strings (e.g., `"x": "0"`, `"y": "15"`) NOT numbers. This matches Tokens Studio's expected format.
- `type` field in each shadow object is `"dropShadow"` or `"innerShadow"` (camelCase).
- CSS `inset` keyword maps to `"type": "innerShadow"`.
- Multi-layer shadows are arrays where order matches the CSS `box-shadow` declaration order (first CSS shadow = first array element).
- Text shadow tokens use `"spread": "0"` because CSS `text-shadow` has no spread property.

**Verify token references against primitives.json:**
Before saving gradients.json, confirm every `{group.key}` reference exists in `scripts/figma-tokens/primitives.json`:
- `{pink.500}`, `{pink.400}` -- exists in `pink` group
- `{amber.100}` through `{amber.950}` -- exists in `amber` group
- `{amber.700}` -- exists in `amber` group
- `{orange.700}`, `{orange.800}`, `{orange.900}` -- exists in `orange` group
- `{card-pink.gradient-start}`, `{card-pink.gradient-mid}`, `{card-pink.gradient-end}` -- exists in `card-pink` group
- Same pattern for card-green, card-purple, card-hotpink, card-orange groups

All of these exist in the current primitives.json (verified).
  </action>
  <verify>
1. Confirm `scripts/figma-tokens/gradients.json` exists and is valid JSON (parse it).
2. Count gradient tokens: should be exactly 12 under the `gradient` group.
3. Confirm `scripts/figma-tokens/effects.json` exists and is valid JSON (parse it).
4. Count shadow tokens: should be exactly 24 under the `shadow` group.
5. Verify token reference format: grep for `{pink.`, `{amber.`, `{orange.`, `{card-` in gradients.json and confirm they match primitives.json key paths.
6. Verify multi-layer shadows are arrays: `card-upload`, `card-shelter`, `card-oracle`, `card-refresh`, `button-nav`, `button-celestial`, `badge-adopt`, `modal-card`, `utility-shadow-lg`, `text-logo-full`, `text-logo-simple`, `text-outline-dark` should all have `$value` as arrays.
  </verify>
  <done>
gradients.json contains 12 linear gradient tokens (1 page background, 7 card gradients, 3 button gradients, 1 decorative divider) with all stops referencing Phase 1 primitives. effects.json contains 24 shadow tokens (15 box-shadow + 8 text shadow + 1 utility) with correct multi-layer ordering. Both files follow W3C DTCG format matching existing project token files.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update manifest.json to register new token collections</name>
  <files>scripts/figma-tokens/manifest.json</files>
  <action>
Read the existing `scripts/figma-tokens/manifest.json` and add two new collection entries for the gradient and effect token files.

**Current manifest structure:**
```json
{
  "name": "MaybeCat",
  "collections": {
    "01 Primitives": { "modes": { "Value": ["primitives.json"] } },
    "02 Semantic": { "modes": { "Value": ["semantic.json"] } },
    "03 Component": { "modes": { "Value": ["component.json"] } },
    "04 Typography": { "modes": { "Value": ["typography.json"] } }
  }
}
```

**Add these two new collections:**
```json
"05 Gradients": { "modes": { "Value": ["gradients.json"] } },
"06 Effects": { "modes": { "Value": ["effects.json"] } }
```

The numbering follows the existing pattern (01-04 already used). Gradients become Fill Styles and Effects become Effect Styles when exported from Tokens Studio to Figma.

**Important:** Preserve ALL existing collections exactly as they are. Only ADD the two new entries. Do not rename, reorder, or modify existing collections.

Write the updated manifest.json with proper JSON formatting (2-space indentation, trailing newline).
  </action>
  <verify>
1. Parse `scripts/figma-tokens/manifest.json` as JSON -- must be valid.
2. Confirm 6 collections exist: 01 Primitives, 02 Semantic, 03 Component, 04 Typography, 05 Gradients, 06 Effects.
3. Confirm the 4 original collections are unchanged.
4. Confirm `05 Gradients` references `gradients.json` and `06 Effects` references `effects.json`.
  </verify>
  <done>
manifest.json contains 6 collections (4 existing + 2 new). 05 Gradients references gradients.json, 06 Effects references effects.json. All existing collections preserved unchanged.
  </done>
</task>

</tasks>

<verification>
1. All 3 files exist in `scripts/figma-tokens/`: gradients.json, effects.json, manifest.json (updated)
2. `node -e "JSON.parse(require('fs').readFileSync('scripts/figma-tokens/gradients.json','utf8'))"` succeeds
3. `node -e "JSON.parse(require('fs').readFileSync('scripts/figma-tokens/effects.json','utf8'))"` succeeds
4. `node -e "JSON.parse(require('fs').readFileSync('scripts/figma-tokens/manifest.json','utf8'))"` succeeds
5. Gradient token count = 12 (keys under `gradient` group)
6. Shadow token count = 24 (keys under `shadow` group)
7. Manifest collection count = 6
8. No broken token references (all `{group.key}` references in gradients.json have matching keys in primitives.json)
</verification>

<success_criteria>
- gradients.json exists with 12 linear gradient tokens matching the research audit exactly
- effects.json exists with 24 shadow tokens (15 box-shadow + 8 text shadow + 1 utility) matching the research audit exactly
- manifest.json updated with 05 Gradients and 06 Effects collections
- All files are valid JSON
- All gradient token references resolve to existing primitives
- Multi-layer shadows use correct array format with proper layer ordering
- Files follow W3C DTCG format consistent with existing project token files
</success_criteria>

<output>
After completion, create `.planning/phases/03-gradients-visual-effects/03-01-SUMMARY.md`
</output>
