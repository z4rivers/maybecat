# Plan 04-03: Extract useOracle hook

## Goal

Extract the oracle question/response logic into a dedicated hook.

## Why

- Separates "oracle brain" from UI rendering
- Makes the thinking delay behavior testable
- Cleaner separation of concerns in Home.tsx

## Current Logic

**State (lines 126-128):**
```typescript
const [question, setQuestion] = useState('');
const [response, setResponse] = useState<OracleResponse | null>(null);
const [isThinking, setIsThinking] = useState(false);
```

**askOracle (lines 237-246):**
```typescript
const askOracle = useCallback(() => {
  if (!question.trim()) return;
  setIsThinking(true);
  const { base, variance } = config.thinking.firstAsk;
  const thinkingTime = base + Math.random() * variance;
  setTimeout(() => {
    setResponse(getRandomResponse());
    setIsThinking(false);
  }, thinkingTime);
}, [question]);
```

**askAgain (lines 248-256):**
```typescript
const askAgain = useCallback(() => {
  setIsThinking(true);
  const { base, variance } = config.thinking.askAgain;
  const thinkingTime = base + Math.random() * variance;
  setTimeout(() => {
    setResponse(getRandomResponse());
    setIsThinking(false);
  }, thinkingTime);
}, []);
```

## Proposed Hook Interface

```typescript
interface UseOracleReturn {
  question: string;
  setQuestion: (q: string) => void;
  response: OracleResponse | null;
  isThinking: boolean;
  askOracle: () => void;       // first question (longer delay)
  askAgain: () => void;        // follow-up (shorter delay)
  clearResponse: () => void;   // reset response state
}

function useOracle(): UseOracleReturn
```

## Tasks

### Task 1: Create src/hooks/useOracle.ts
- Create hook with question/response/thinking state
- Include both askOracle and askAgain with their timing configs
- Import config and getRandomResponse
- Export hook and return type

### Task 2: Update Home.tsx to use the hook
- Import useOracle
- Replace state declarations
- Replace askOracle and askAgain callbacks
- Use clearResponse in clearCat callback

### Task 3: Verify build passes
- Run `npm run build`
- Confirm no type errors

## Verification

- [ ] src/hooks/useOracle.ts exists
- [ ] Hook manages question, response, isThinking state
- [ ] Home.tsx uses hook instead of inline callbacks
- [ ] npm run build succeeds
- [ ] Oracle still works (type question, get response, ask again)

## Notes

- clearResponse needed so clearCat can reset the oracle
- Keep OracleResponse type from oracleResponses
- Keep config import for timing values
